
; You may customize this and other start-up templates; 
; The location of this template is c:\emu8086\inc\0_com_template.txt

org 100h

#start=Emulation_Kit.exe#

INF:
mov ah,2ch              ;get time
int 21h                 ;ch = hr, cl = min, dh = sec
MOV BH,DH

MOV AX,0
MOV BL,10
;HOUR
MOV AL,CH
DIV BL 
MOV DX, 2030H
MOV AH,0 
MOV SI,AX
MOV AL,NUMBERS[SI]
OUT DX,AL
MOV AX,0
  
MOV AL,CH
DIV BL
MOV AL, AH
MOV DX, 2031H 
MOV AH,0
MOV SI,AX
MOV AL,NUMBERS[SI]
OUT DX,AL
MOV AX,0

;DASH 
MOV AL,10
MOV DX, 2032H 
MOV AH,0
MOV SI,AX
MOV AL,NUMBERS[SI]
OUT DX,AL
MOV AX,0

;MINUTE 
MOV AL,CL
DIV BL
MOV DX, 2033H 
MOV AH,0
MOV SI,AX
MOV AL,NUMBERS[SI]
OUT DX,AL
MOV AX,0

MOV AL,CL
DIV BL
MOV AL, AH
MOV DX, 2034H 
MOV AH,0
MOV SI,AX
MOV AL,NUMBERS[SI]
OUT DX,AL
MOV AX,0

;DASH 
MOV AL,10
MOV DX, 2035H
MOV AH,0
MOV SI,AX
MOV AL,NUMBERS[SI]
OUT DX,AL
MOV AX,0

;SECOND 
MOV AL,BH
DIV BL 
MOV DX, 2036H 
MOV AH,0
MOV SI,AX
MOV AL,NUMBERS[SI]
OUT DX,AL
MOV AX,0

MOV AL,BH
DIV BL
MOV AL, AH
MOV DX, 2037H
MOV AH,0
MOV SI,AX
MOV AL,NUMBERS[SI]
OUT DX,AL
MOV AX,0 

JMP INF

ret     

NUMBERS	DB 00111111b, 00000110b, 01011011b, 01001111b, 01100110b, 01101101b, 01111101b, 00000111b, 01111111b, 01101111b, 01000000b




